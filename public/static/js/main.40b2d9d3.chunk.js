(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,n){e.exports=n(66)},62:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(6),r=n.n(i),c=n(21),s=n(15),l=n(16),u=n(17),d=n(22),f=n(18),m=n(23),h=n(2),p=n.n(h),v=n(19),g=n.n(v),E=(n(62),n(20)),w=n.n(E),N=function(e){var t=e.note,n=e.index,a=e.editNote,i=e.doneEdit,r=e.cancelEdit,c=e.deleteNote,s=e.note,l=s._id,u=s.editing,d=s.titleValue,f=s.descriptionValue,m=s.date;return o.a.createElement("li",{className:"note-item"},o.a.createElement("div",{className:"note-item-panel"},o.a.createElement("h4",{className:"note-item-title"},d),o.a.createElement("div",{onClick:function(){return c(l)},className:"remove-item"},"\xd7")),o.a.createElement(w.a,{className:"note-item-date",format:"YYYY.MM.DD, HH:mm"},m),!u&&o.a.createElement("div",{className:"note-item-label",onClick:function(){return a(t,n)}},f),u&&o.a.createElement("textarea",{"data-gramm":"false",className:"note-item-edit",type:"text",autoFocus:!0,defaultValue:f,onBlur:function(e){return i(t,n,e)},onKeyUp:function(e){"Enter"===e.key?i(t,n,e):"Escape"===e.key&&r(t,n)}}))},V=function(e){return o.a.createElement("input",{maxLength:"25",onChange:e.handleChange,onKeyUp:e.addNote,name:"titleValue",value:e.titleValue,type:"text",className:"note-input"})},b=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(o)))).state={beforeEditCache:"",titleValue:"",descriptionValue:"Enter note content ...",notes:[]},n.handleChange=function(e){return n.setState(Object(s.a)({},e.target.name,e.target.value))},n.addNote=function(e){if("Enter"===e.key){var t=n.state.titleValue;if(!t)return;var a={titleValue:t,descriptionValue:n.state.descriptionValue,editing:!1},o=[].concat(Object(c.a)(n.state.notes),[a]);n.setState({notes:o,titleValue:""}),p.a.post("/notes",a)}},n.deleteNote=function(e){n.setState({notes:n.state.notes.filter(function(t){return t._id!==e})}),p.a.delete("/notes/".concat(e))},n.editNote=function(e,t){n.setState(function(a){var o=a.notes;return e.editing=!0,o.splice(t,1,e),e.descriptionValue===n.state.descriptionValue&&(e.descriptionValue=""),{notes:o,beforeEditCache:e.descriptionValue}})},n.doneEdit=function(e,t,a){a.persist(),n.setState(function(o){var i=o.notes;return e.editing=!1,0===a.target.value.trim().length?e.descriptionValue=o.beforeEditCache:e.descriptionValue=a.target.value,""===e.descriptionValue&&(e.descriptionValue=n.state.descriptionValue),i.splice(t,1,e),{notes:i}}),p.a.post("/notes/".concat(e._id),e)},n.cancelEdit=function(e,t){n.setState(function(n){var a=n.notes;return e.descriptionValue=n.beforeEditCache,e.editing=!1,a.splice(t,1,e),{notes:a}})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.a.get("/notes").then(function(t){e.setState({notes:t.data})}).catch(function(e){return console.log(e)})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"note-container"},o.a.createElement("h1",{className:"heading"},"New note"),o.a.createElement(V,{handleChange:this.handleChange,addNote:this.addNote,titleValue:this.state.titleValue}),o.a.createElement(g.a,{className:"note-list",transitionName:"fade",transitionEnterTimeout:200,transitionLeaveTimeout:200},this.state.notes.map(function(t,n){return o.a.createElement(N,{key:n,note:t,index:n,editNote:e.editNote,doneEdit:e.doneEdit,cancelEdit:e.cancelEdit,deleteNote:e.deleteNote})}))))}}]),t}(a.Component),y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function k(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}r.a.render(o.a.createElement(b,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");y?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):k(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):k(t,e)})}}()}},[[24,2,1]]]);
//# sourceMappingURL=main.40b2d9d3.chunk.js.map